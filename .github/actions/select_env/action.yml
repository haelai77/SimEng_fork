name: setup armclang
description: installs dependencies and correct armclang version to build and test simeng

inputs:
  OS:
    required: true
  LLVM-VERSION:
    required: true
  COMPILER: 
    required: true

runs:
  using: 'composite'
    ##########################################
    # if gcc job
    - if: ${{ contains(${{ inputs.COMPILER }}, 'gcc') && contains(${{ inputs.OS }}, 'ubuntu') }}
      name:  Install ${{ inputs.COMPILER }} + Build SimEng
      uses: ./.github/actions/setup_gcc_ubuntu
      with:
        LLVM-VERSION: ${{ inputs.LLVM-VERSION }}
        OS: ${{ inputs.OS }}
        gcc-version: ${{ inputs.COMPILER }}
    ##########################################
    # if armclang job
    - if: ${{ contains(${{ inputs.COMPILER }}, 'armclang') && contains(${{ inputs.OS }}, 'ubuntu') }}
      name:  Install ${{ inputs.COMPILER }} + Build SimEng
      uses: ./.github/actions/setup_armclang_ubuntu
      with:
        LLVM-VERSION: ${{ inputs.LLVM-VERSION }}
        OS: ${{ inputs.OS }}
    ##########################################
    
